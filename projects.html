<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projekte - My Portfolio</title>
    <link rel="stylesheet" href="projects.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <ul class="link-group">
                <li class="link"><a href="home.html">Home</a></li>
                <li class="link active"><a href="projects.html">Projekte</a></li>
                <li class="link"><a href="contacts.html">Kontakt</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="project-overview">
            <h1>Projektübersicht</h1>
            <label for="category-select">Kategorie auswählen:</label>
            <select id="category-select" onchange="filterProjects()">
                <option value="all">Alle</option>
                <option value="web">Web</option>
                <option value="mobile">Mobile</option>
                <option value="data-science">Data Science</option>
            </select>
            <div id="project-grid" class="project-grid"></div>
        </section>

        <section id="category-filter">
            <h1>Kategoriefilter</h1>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 My Cool Portfolio</p>
    </footer>

    <script>
        let repos = [];

        async function fetchGitHubRepos() {
            try {
                const response = await fetch('https://api.github.com/users/InsightfulGuy/repos');
                repos = await response.json();

                repos = repos.map(repo => {
                    const categories = ['web', 'mobile', 'data-science'];
                    const randomCategory = categories[Math.floor(Math.random() * categories.length)];
                    return { ...repo, category: randomCategory };
                });

                displayProjects(repos);
            } catch (error) {
                console.error('Error fetching GitHub repositories:', error);
            }
        }

        function displayProjects(projects) {
            const projectGrid = document.getElementById('project-grid');
            projectGrid.innerHTML = '';

            projects.forEach(repo => {
                const projectBox = document.createElement('div');
                projectBox.classList.add('project-box');
                projectBox.setAttribute('data-category', repo.category);

                const projectName = document.createElement('h3');
                const projectLink = document.createElement('a');
                projectLink.href = repo.html_url;
                projectLink.textContent = repo.name;
                projectName.appendChild(projectLink);

                const projectDescription = document.createElement('p');
                projectDescription.textContent = repo.description || 'No description available';

                projectBox.appendChild(projectName);
                projectBox.appendChild(projectDescription);
                projectGrid.appendChild(projectBox);
            });
        }

        function filterProjects() {
            const selectedCategory = document.getElementById('category-select').value;
            const filteredRepos = selectedCategory === 'all' ? repos : repos.filter(repo => repo.category === selectedCategory);
            displayProjects(filteredRepos);
        }

        fetchGitHubRepos();
    </script>
</body>
</html>
